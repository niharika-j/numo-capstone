{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport klass from '../cssClasses';\nimport { outerWidth } from '../dimensions';\nimport CSSTranslate from '../CSSTranslate';\nimport Swipe from 'react-easy-swipe';\nimport getWindow from '../shims/window';\n\nvar Thumbs = /*#__PURE__*/function (_Component) {\n  _inherits(Thumbs, _Component);\n\n  var _super = _createSuper(Thumbs);\n\n  function Thumbs(_props) {\n    var _this;\n\n    _classCallCheck(this, Thumbs);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsWrapperRef\", function (node) {\n      _this.itemsWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsListRef\", function (node) {\n      _this.itemsListRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node, index) {\n      if (!_this.thumbsRef) {\n        _this.thumbsRef = [];\n      }\n\n      _this.thumbsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.props.children || !_this.itemsWrapperRef || _this.state.images.length === 0) {\n        return;\n      }\n\n      var total = _this.props.children.length;\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var itemSize = _this.props.thumbWidth ? _this.props.thumbWidth : outerWidth(_this.thumbsRef[0]);\n      var visibleItems = Math.floor(wrapperSize / itemSize);\n      var lastPosition = total - visibleItems;\n      var showArrows = visibleItems < total;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize,\n          visibleItems,\n          firstItem: showArrows ? _this.getFirstItem(props.selectedItem) : 0,\n          lastPosition,\n          showArrows\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item, e) {\n      if (!e.keyCode || e.key === 'Enter') {\n        var handler = _this.props.onSelectItem;\n\n        if (typeof handler === 'function') {\n          handler(index, item);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function () {\n      _this.setState({\n        swiping: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function () {\n      _this.setState({\n        swiping: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (deltaX) {\n      var leftBoundary = 0;\n      var currentPosition = -_this.state.firstItem * _this.state.itemSize;\n      var lastLeftBoundary = -_this.state.visibleItems * _this.state.itemSize; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === leftBoundary && deltaX > 0) {\n        deltaX = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === lastLeftBoundary && deltaX < 0) {\n        deltaX = 0;\n      }\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var position = currentPosition + 100 / (wrapperSize / deltaX) + '%'; // if 3d isn't available we will use left to move\n\n      if (_this.itemsListRef) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          _this.itemsListRef.style[prop] = CSSTranslate(position, _this.props.axis);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideRight\", function (positions) {\n      _this.moveTo(_this.state.firstItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideLeft\", function (positions) {\n      _this.moveTo(_this.state.firstItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      // position can't be lower than 0\n      position = position < 0 ? 0 : position; // position can't be higher than last postion\n\n      position = position >= _this.lastPosition ? _this.lastPosition : position;\n\n      _this.setState({\n        firstItem: position\n      });\n    });\n\n    _this.state = {\n      selectedItem: _props.selectedItem,\n      hasMount: false,\n      firstItem: 0,\n      itemSize: null,\n      visibleItems: 0,\n      lastPosition: 0,\n      showArrows: false,\n      images: _this.getImages()\n    };\n    return _this;\n  }\n\n  _createClass(Thumbs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(nextProps) {\n      this.setupThumbs();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props, state) {\n      if (props.selectedItem !== this.state.selectedItem) {\n        this.setState({\n          selectedItem: props.selectedItem,\n          firstItem: this.getFirstItem(props.selectedItem)\n        });\n      }\n\n      if (props.children !== this.props.children) {\n        this.setState({\n          images: this.getImages()\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.children === prevProps.children) {\n        return;\n      } // This will capture any size changes for arrow adjustments etc.\n      // usually in the same render cycle so we don't see any flickers\n\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyThumbs();\n    }\n  }, {\n    key: \"setupThumbs\",\n    value: function setupThumbs() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      getWindow().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      getWindow().addEventListener('DOMContentLoaded', this.updateSizes); // when the component is rendered we need to calculate\n      // the container size to adjust the responsive behaviour\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"destroyThumbs\",\n    value: function destroyThumbs() {\n      // removing listeners\n      getWindow().removeEventListener('resize', this.updateSizes);\n      getWindow().removeEventListener('DOMContentLoaded', this.updateSizes);\n    }\n  }, {\n    key: \"getImages\",\n    value: function getImages() {\n      var images = Children.map(this.props.children, function (item, index) {\n        var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n        if (item.type !== 'img') {\n          img = Children.toArray(item.props.children).filter(function (children) {\n            return children.type === 'img';\n          })[0];\n        }\n\n        if (!img || img.length === 0) {\n          return null;\n        }\n\n        return img;\n      });\n\n      if (images.filter(function (image) {\n        return image;\n      }).length === 0) {\n        console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n        return [];\n      }\n\n      return images;\n    }\n  }, {\n    key: \"getFirstItem\",\n    value: function getFirstItem(selectedItem) {\n      var firstItem = selectedItem;\n\n      if (selectedItem >= this.state.lastPosition) {\n        firstItem = this.state.lastPosition;\n      }\n\n      if (selectedItem < this.state.firstItem + this.state.visibleItems) {\n        firstItem = this.state.firstItem;\n      }\n\n      if (selectedItem < this.state.firstItem) {\n        firstItem = selectedItem;\n      }\n\n      return firstItem;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      return this.state.images.map(function (img, index) {\n        var itemClass = klass.ITEM(false, index === _this2.state.selectedItem && _this2.state.hasMount);\n        var thumbProps = {\n          key: index,\n          ref: function ref(e) {\n            return _this2.setThumbsRef(e, index);\n          },\n          className: itemClass,\n          onClick: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          onKeyDown: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          'aria-label': \"\".concat(_this2.props.labels.item, \" \").concat(index + 1),\n          style: {\n            width: _this2.props.thumbWidth\n          }\n        };\n\n        if (index === 0) {\n          img = React.cloneElement(img, {\n            onLoad: _this2.setMountState\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"li\", _extends({}, thumbProps, {\n          role: \"button\",\n          tabIndex: 0\n        }), img);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.children) {\n        return null;\n      } // show left arrow?\n\n\n      var hasPrev = this.state.showArrows && this.state.firstItem > 0; // show right arrow\n\n      var hasNext = this.state.showArrows && this.state.firstItem < this.state.lastPosition; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = -this.state.firstItem * this.state.itemSize + 'px';\n      var transformProp = CSSTranslate(currentPosition, this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp,\n        WebkitTransitionDuration: transitionTime,\n        MozTransitionDuration: transitionTime,\n        MsTransitionDuration: transitionTime,\n        OTransitionDuration: transitionTime,\n        transitionDuration: transitionTime,\n        msTransitionDuration: transitionTime\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: klass.CAROUSEL(false)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: klass.WRAPPER(false),\n        ref: this.setItemsWrapperRef\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: klass.ARROW_PREV(!hasPrev),\n        onClick: this.slideRight,\n        \"aria-label\": this.props.labels.leftArrow\n      }), /*#__PURE__*/React.createElement(Swipe, {\n        tagName: \"ul\",\n        className: klass.SLIDER(false, this.state.swiping),\n        onSwipeLeft: this.slideLeft,\n        onSwipeRight: this.slideRight,\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        innerRef: this.setItemsListRef\n      }, this.renderItems()), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: klass.ARROW_NEXT(!hasNext),\n        onClick: this.slideLeft,\n        \"aria-label\": this.props.labels.rightArrow\n      })));\n    }\n  }]);\n\n  return Thumbs;\n}(Component);\n\n_defineProperty(Thumbs, \"displayName\", 'Thumbs');\n\n_defineProperty(Thumbs, \"propsTypes\", {\n  children: PropTypes.element.isRequired,\n  transitionTime: PropTypes.number,\n  selectedItem: PropTypes.number,\n  thumbWidth: PropTypes.number,\n  labels: PropTypes.shape({\n    leftArrow: PropTypes.string,\n    rightArrow: PropTypes.string,\n    item: PropTypes.string\n  })\n});\n\n_defineProperty(Thumbs, \"defaultProps\", {\n  selectedItem: 0,\n  thumbWidth: 80,\n  transitionTime: 350,\n  axis: 'horizontal'\n});\n\nexport default Thumbs;","map":{"version":3,"sources":["/Users/niharikajayanthi/Documents/MHCI/Spring/Capstone/website/numo-capstone/node_modules/react-responsive-carousel/lib/es/components/Thumbs.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","Super","_getPrototypeOf","result","_isNativeReflectConstruct","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","_defineProperty","obj","React","Component","Children","PropTypes","klass","outerWidth","CSSTranslate","Swipe","getWindow","Thumbs","_Component","_super","_props","_this","node","itemsWrapperRef","itemsListRef","index","thumbsRef","children","state","images","total","wrapperSize","clientWidth","itemSize","thumbWidth","visibleItems","Math","floor","lastPosition","showArrows","setState","_state","firstItem","getFirstItem","selectedItem","hasMount","updateSizes","item","keyCode","handler","onSelectItem","swiping","deltaX","leftBoundary","currentPosition","lastLeftBoundary","position","forEach","prop","style","axis","positions","moveTo","getImages","componentDidMount","nextProps","setupThumbs","UNSAFE_componentWillReceiveProps","componentDidUpdate","prevProps","componentWillUnmount","destroyThumbs","addEventListener","removeEventListener","map","img","type","toArray","filter","image","console","warn","renderItems","_this2","itemClass","ITEM","thumbProps","ref","setThumbsRef","className","onClick","handleClickItem","bind","onKeyDown","concat","labels","width","cloneElement","onLoad","setMountState","createElement","role","tabIndex","render","hasPrev","hasNext","itemListStyles","transformProp","transitionTime","WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform","WebkitTransitionDuration","MozTransitionDuration","MsTransitionDuration","OTransitionDuration","transitionDuration","msTransitionDuration","CAROUSEL","WRAPPER","setItemsWrapperRef","ARROW_PREV","slideRight","leftArrow","tagName","SLIDER","onSwipeLeft","slideLeft","onSwipeRight","onSwipeMove","onSwipeStart","onSwipeEnd","innerRef","setItemsListRef","ARROW_NEXT","rightArrow","element","isRequired","number","shape","string"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport klass from '../cssClasses';\nimport { outerWidth } from '../dimensions';\nimport CSSTranslate from '../CSSTranslate';\nimport Swipe from 'react-easy-swipe';\nimport getWindow from '../shims/window';\n\nvar Thumbs = /*#__PURE__*/function (_Component) {\n  _inherits(Thumbs, _Component);\n\n  var _super = _createSuper(Thumbs);\n\n  function Thumbs(_props) {\n    var _this;\n\n    _classCallCheck(this, Thumbs);\n\n    _this = _super.call(this, _props);\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsWrapperRef\", function (node) {\n      _this.itemsWrapperRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItemsListRef\", function (node) {\n      _this.itemsListRef = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setThumbsRef\", function (node, index) {\n      if (!_this.thumbsRef) {\n        _this.thumbsRef = [];\n      }\n\n      _this.thumbsRef[index] = node;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateSizes\", function () {\n      if (!_this.props.children || !_this.itemsWrapperRef || _this.state.images.length === 0) {\n        return;\n      }\n\n      var total = _this.props.children.length;\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var itemSize = _this.props.thumbWidth ? _this.props.thumbWidth : outerWidth(_this.thumbsRef[0]);\n      var visibleItems = Math.floor(wrapperSize / itemSize);\n      var lastPosition = total - visibleItems;\n      var showArrows = visibleItems < total;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize,\n          visibleItems,\n          firstItem: showArrows ? _this.getFirstItem(props.selectedItem) : 0,\n          lastPosition,\n          showArrows\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMountState\", function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickItem\", function (index, item, e) {\n      if (!e.keyCode || e.key === 'Enter') {\n        var handler = _this.props.onSelectItem;\n\n        if (typeof handler === 'function') {\n          handler(index, item);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeStart\", function () {\n      _this.setState({\n        swiping: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeEnd\", function () {\n      _this.setState({\n        swiping: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (deltaX) {\n      var leftBoundary = 0;\n      var currentPosition = -_this.state.firstItem * _this.state.itemSize;\n      var lastLeftBoundary = -_this.state.visibleItems * _this.state.itemSize; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === leftBoundary && deltaX > 0) {\n        deltaX = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === lastLeftBoundary && deltaX < 0) {\n        deltaX = 0;\n      }\n\n      var wrapperSize = _this.itemsWrapperRef.clientWidth;\n      var position = currentPosition + 100 / (wrapperSize / deltaX) + '%'; // if 3d isn't available we will use left to move\n\n      if (_this.itemsListRef) {\n        ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n          _this.itemsListRef.style[prop] = CSSTranslate(position, _this.props.axis);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideRight\", function (positions) {\n      _this.moveTo(_this.state.firstItem - (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideLeft\", function (positions) {\n      _this.moveTo(_this.state.firstItem + (typeof positions === 'number' ? positions : 1));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveTo\", function (position) {\n      // position can't be lower than 0\n      position = position < 0 ? 0 : position; // position can't be higher than last postion\n\n      position = position >= _this.lastPosition ? _this.lastPosition : position;\n\n      _this.setState({\n        firstItem: position\n      });\n    });\n\n    _this.state = {\n      selectedItem: _props.selectedItem,\n      hasMount: false,\n      firstItem: 0,\n      itemSize: null,\n      visibleItems: 0,\n      lastPosition: 0,\n      showArrows: false,\n      images: _this.getImages()\n    };\n    return _this;\n  }\n\n  _createClass(Thumbs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(nextProps) {\n      this.setupThumbs();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props, state) {\n      if (props.selectedItem !== this.state.selectedItem) {\n        this.setState({\n          selectedItem: props.selectedItem,\n          firstItem: this.getFirstItem(props.selectedItem)\n        });\n      }\n\n      if (props.children !== this.props.children) {\n        this.setState({\n          images: this.getImages()\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.children === prevProps.children) {\n        return;\n      } // This will capture any size changes for arrow adjustments etc.\n      // usually in the same render cycle so we don't see any flickers\n\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.destroyThumbs();\n    }\n  }, {\n    key: \"setupThumbs\",\n    value: function setupThumbs() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      getWindow().addEventListener('resize', this.updateSizes); // issue #2 - image loading smaller\n\n      getWindow().addEventListener('DOMContentLoaded', this.updateSizes); // when the component is rendered we need to calculate\n      // the container size to adjust the responsive behaviour\n\n      this.updateSizes();\n    }\n  }, {\n    key: \"destroyThumbs\",\n    value: function destroyThumbs() {\n      // removing listeners\n      getWindow().removeEventListener('resize', this.updateSizes);\n      getWindow().removeEventListener('DOMContentLoaded', this.updateSizes);\n    }\n  }, {\n    key: \"getImages\",\n    value: function getImages() {\n      var images = Children.map(this.props.children, function (item, index) {\n        var img = item; // if the item is not an image, try to find the first image in the item's children.\n\n        if (item.type !== 'img') {\n          img = Children.toArray(item.props.children).filter(function (children) {\n            return children.type === 'img';\n          })[0];\n        }\n\n        if (!img || img.length === 0) {\n          return null;\n        }\n\n        return img;\n      });\n\n      if (images.filter(function (image) {\n        return image;\n      }).length === 0) {\n        console.warn(\"No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md\");\n        return [];\n      }\n\n      return images;\n    }\n  }, {\n    key: \"getFirstItem\",\n    value: function getFirstItem(selectedItem) {\n      var firstItem = selectedItem;\n\n      if (selectedItem >= this.state.lastPosition) {\n        firstItem = this.state.lastPosition;\n      }\n\n      if (selectedItem < this.state.firstItem + this.state.visibleItems) {\n        firstItem = this.state.firstItem;\n      }\n\n      if (selectedItem < this.state.firstItem) {\n        firstItem = selectedItem;\n      }\n\n      return firstItem;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      return this.state.images.map(function (img, index) {\n        var itemClass = klass.ITEM(false, index === _this2.state.selectedItem && _this2.state.hasMount);\n        var thumbProps = {\n          key: index,\n          ref: function ref(e) {\n            return _this2.setThumbsRef(e, index);\n          },\n          className: itemClass,\n          onClick: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          onKeyDown: _this2.handleClickItem.bind(_this2, index, _this2.props.children[index]),\n          'aria-label': \"\".concat(_this2.props.labels.item, \" \").concat(index + 1),\n          style: {\n            width: _this2.props.thumbWidth\n          }\n        };\n\n        if (index === 0) {\n          img = React.cloneElement(img, {\n            onLoad: _this2.setMountState\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"li\", _extends({}, thumbProps, {\n          role: \"button\",\n          tabIndex: 0\n        }), img);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.children) {\n        return null;\n      } // show left arrow?\n\n\n      var hasPrev = this.state.showArrows && this.state.firstItem > 0; // show right arrow\n\n      var hasNext = this.state.showArrows && this.state.firstItem < this.state.lastPosition; // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = -this.state.firstItem * this.state.itemSize + 'px';\n      var transformProp = CSSTranslate(currentPosition, this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        WebkitTransform: transformProp,\n        MozTransform: transformProp,\n        MsTransform: transformProp,\n        OTransform: transformProp,\n        transform: transformProp,\n        msTransform: transformProp,\n        WebkitTransitionDuration: transitionTime,\n        MozTransitionDuration: transitionTime,\n        MsTransitionDuration: transitionTime,\n        OTransitionDuration: transitionTime,\n        transitionDuration: transitionTime,\n        msTransitionDuration: transitionTime\n      };\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: klass.CAROUSEL(false)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: klass.WRAPPER(false),\n        ref: this.setItemsWrapperRef\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: klass.ARROW_PREV(!hasPrev),\n        onClick: this.slideRight,\n        \"aria-label\": this.props.labels.leftArrow\n      }), /*#__PURE__*/React.createElement(Swipe, {\n        tagName: \"ul\",\n        className: klass.SLIDER(false, this.state.swiping),\n        onSwipeLeft: this.slideLeft,\n        onSwipeRight: this.slideRight,\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        innerRef: this.setItemsListRef\n      }, this.renderItems()), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: klass.ARROW_NEXT(!hasNext),\n        onClick: this.slideLeft,\n        \"aria-label\": this.props.labels.rightArrow\n      })));\n    }\n  }]);\n\n  return Thumbs;\n}(Component);\n\n_defineProperty(Thumbs, \"displayName\", 'Thumbs');\n\n_defineProperty(Thumbs, \"propsTypes\", {\n  children: PropTypes.element.isRequired,\n  transitionTime: PropTypes.number,\n  selectedItem: PropTypes.number,\n  thumbWidth: PropTypes.number,\n  labels: PropTypes.shape({\n    leftArrow: PropTypes.string,\n    rightArrow: PropTypes.string,\n    item: PropTypes.string\n  })\n});\n\n_defineProperty(Thumbs, \"defaultProps\", {\n  selectedItem: 0,\n  thumbWidth: 80,\n  transitionTime: 350,\n  axis: 'horizontal'\n});\n\nexport default Thumbs;"]},"metadata":{},"sourceType":"module"}